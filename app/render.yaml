# Minimal Render blueprint. Add this file at the repo root as render.yaml
services:
  - type: web
    name: genomic-annotation-api
    env: docker
    plan: starter
    autoDeploy: true
    healthCheckPath: /healthz
    envVars:
      - key: ENV
        value: production
      - key: CORS_ALLOW_ORIGINS
        value: https://YOUR_FRONTEND_HOST   # set to your static site origin
      - key: MAX_UPLOAD_MB
        value: "50"
      # Optional Redis (Upstash) for jobs/cache
      - key: UPSTASH_REDIS_REST_URL
        sync: false
      - key: UPSTASH_REDIS_REST_TOKEN
        sync: false

  # Optional background worker if you add Celery/RQ (advanced)
  # - type: worker
  #   name: genomic-annotation-worker
  #   env: docker
  #   plan: starter
  #   autoDeploy: true
  #   dockerCommand: celery -A tasks.celery_app worker -l INFO
  #   envVars:
  #     - key: UPSTASH_REDIS_REST_URL
  #       sync: false
  #     - key: UPSTASH_REDIS_REST_TOKEN
  #       sync: false
